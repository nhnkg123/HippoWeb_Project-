(()=>{var e={};e.id=955,e.ids=[955],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7698:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(482),i=t(9108),a=t(2563),n=t.n(a),l=t(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["thank-you",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8146)),"F:\\FILE KHTN\\DIGITAL_HIPPO_PROJECT\\digitalhippo\\src\\app\\thank-you\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9924)),"F:\\FILE KHTN\\DIGITAL_HIPPO_PROJECT\\digitalhippo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["F:\\FILE KHTN\\DIGITAL_HIPPO_PROJECT\\digitalhippo\\src\\app\\thank-you\\page.tsx"],u="/thank-you/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/thank-you/page",pathname:"/thank-you",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5824:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,1900,23)),Promise.resolve().then(t.t.bind(t,1476,23)),Promise.resolve().then(t.bind(t,437))},437:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(2295),i=t(2362),a=t(2254),n=t(3729);let l=({orderEmail:e,orderId:r,isPaid:t})=>{let l=(0,a.useRouter)(),{data:o}=i.S.payment.pollOrderStatus.useQuery({orderId:r},{enabled:!1===t,refetchInterval:e=>!e?.isPaid&&1e3});return(0,n.useEffect)(()=>{o?.isPaid&&l.refresh()},[o?.isPaid,l]),(0,s.jsxs)("div",{className:"mt-16 grid grid-cols-2 gap-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Shipping To"}),s.jsx("p",{children:e})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Order Status"}),s.jsx("p",{children:t?"Payment successful":"Pending payment"})]})]})}},8146:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var s=t(5036);let i=(0,t(6843).createProxy)(String.raw`F:\FILE KHTN\DIGITAL_HIPPO_PROJECT\digitalhippo\src\components\PaymentStatus.tsx`),{__esModule:a,$$typeof:n}=i,l=i.default;var o=t(2586),d=t(7486),c=t(7576),u=t(2245),p=t(2455),m=t(5614),x=t.n(m),h=t(646),g=t.n(h),f=t(4551);let y=async({searchParams:e})=>{let r=e.orderId,t=(0,p.cookies)(),{user:i}=await (0,c.z)(t),a=await (0,d.U)(),{docs:n}=await a.find({collection:"orders",depth:2,where:{id:{equals:r}}}),[m]=n;if(!m)return(0,f.notFound)();if(("string"==typeof m.user?m.user:m.user.id)!==i?.id)return(0,f.redirect)(`/sign-in?origin=thank-you?orderId=${m.id}`);let h=m.products.reduce((e,r)=>e+r.price,0);return(0,s.jsxs)("main",{className:"relative lg:min-h-full",children:[s.jsx("div",{className:"hidden sm:block h-80 overflow-hidden lg:absolute lg:h-full lg:w-1/2 lg:pr-4 xl:pr-12",children:s.jsx(x(),{src:"/checkout-thank-you.jpg",className:"h-full w-full object-cover object-center",fill:!0,alt:"thank you for your order"})}),s.jsx("div",{children:s.jsx("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:(0,s.jsxs)("div",{className:"lg:col-start-2",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Order successfull"}),s.jsx("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Thank for ordering"}),m._isPaid?(0,s.jsxs)("p",{className:"mt-2 text-base text-muted-foreground",children:["Your order was processed and your assets are available to download below. We've sent your receipt and order details to "," ","string"!=typeof m.user?s.jsx("span",{className:"font-medium text-gray-900",children:m.user.email}):null,"."]}):s.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"We appreciate your order, and we're currently processing it. So hang tight and we'll send you confirmation very soon!"}),(0,s.jsxs)("div",{className:"mt-16 text-sm font-medium",children:[s.jsx("div",{className:"text-muted-foreground",children:"Order nr."}),s.jsx("div",{className:"mt-2 text-gray-900",children:m.id})]}),s.jsx("ul",{className:"mt-6 divide-y divide-gray-200 border-t border-gray-200 text-sm font-medium text-muted-foreground",children:m.products.map(e=>{let r=o.P.find(r=>r.value===e.category)?.label,t=e.product_files.url,{image:i}=e.images[0];return(0,s.jsxs)("li",{className:"flex space-x-6 py-6",children:[s.jsx("div",{className:"relative h-24 w-24",children:"string"!=typeof i&&i.url?s.jsx(x(),{src:i.url,fill:!0,alt:`${e.name} image`,className:"flex-none rounded-md bg-gray-100 object-cover object-center"}):null}),(0,s.jsxs)("div",{className:"flex-auto flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"my-1",children:["Category: ",r]})]}),m._isPaid?s.jsx("a",{href:t,download:e.name,className:"text-blue-600 hover:underline underline-offset-2",children:"Download assest"}):null]}),s.jsx("div",{className:"flex-none font-medium text-gray-900",children:(0,u.T)(e.price)})]},e.id)})}),(0,s.jsxs)("div",{className:"space-y-6 border-t border-gray-200 pt-6 text-sm font-medium text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Subtotal"}),s.jsx("p",{className:"text-gray-900",children:(0,u.T)(h)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Transaction Fee"}),s.jsx("p",{className:"text-gray-900",children:(0,u.T)(1)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6  text-gray-900",children:[s.jsx("p",{className:"text-base",children:"Total"}),s.jsx("p",{className:"text-base",children:(0,u.T)(h+1)})]})]}),s.jsx(l,{isPaid:m._isPaid,orderEmail:m.user.email,orderId:m.id}),s.jsx("div",{className:"mt-16 border-t border-gray-200 py-6 text-right",children:s.jsx(g(),{href:"/products",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Countinue shopping â†’"})})]})})})]})}},2586:(e,r,t)=>{"use strict";t.d(r,{P:()=>s});let s=[{label:"UI Kits",value:"ui_kits",featured:[{name:"Editor picks",href:"#",imageScr:"/nav/ui-kits/mixed.jpg"},{name:"New Arrivals",href:"#",imageScr:"/nav/ui-kits/blue.jpg"},{name:"Bestsellers",href:"#",imageScr:"/nav/ui-kits/purple.jpg"}]},{label:"Icons",value:"icons",featured:[{name:"Favorite Icon picks",href:"#",imageScr:"/nav/icons/picks.jpg"},{name:"New Arrivals",href:"#",imageScr:"/nav/icons/new.jpg"},{name:"Bestsellers",href:"#",imageScr:"/nav/icons/bestsellers.jpg"}]}]},7486:(e,r,t)=>{"use strict";t.d(r,{U:()=>p});var s=t(4790),i=t.n(s),a=t(1017),n=t.n(a);let l=require("payload");var o=t.n(l),d=t(8140);i().config({path:n().resolve(__dirname,"../.env")});let c=d.createTransport({host:"smtp.resend.com",secure:!0,port:465,auth:{user:"resend",pass:process.env.RESEND_API_KEY},tls:{rejectUnauthorized:!1}}),u=global.payload;u||(u=global.payload={client:null,promise:null});let p=async({initOptions:e}={})=>{if(!process.env.PAYLOAD_SECRET)throw Error("PAYLOAD_SECRET is missing!");if(u.client)return u.client;u.promise||(u.promise=o().init({email:{transport:c,fromAddress:"onboarding@resend.dev",fromName:"DigitalHippo"},secret:process.env.PAYLOAD_SECRET,local:!e?.express,...e||{}}));try{u.client=await u.promise}catch(e){throw u.promise=null,e}return u.client}},3881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(337);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,43,337,851,904,551,631],()=>t(7698));module.exports=s})();